(window.wpJsonpTemplateSections=window.wpJsonpTemplateSections||[]).push([[3],{136:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return c}));n(0),n(6);var i=n(5);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var a=function(t){if(!t)return 1;if(!t.dataset.imageDimensions)return 1;var e=t.dataset.imageDimensions.split("x");return e[0]&&e[1]?+e[0]/+e[1]:void 0},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;if(t<=e)return t;var n=window.innerWidth;return n<=i.g.sm?Math.max(e,Math.round(.25*t)):n<=i.g.md?Math.max(e,Math.round(.5*t)):n<=i.g.lg?Math.max(e,Math.round(.75*t)):t},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=window.innerWidth,n=Math.max(1,t);return e<=i.g.sm?t>1?2:1:e<=i.g.md?Math.ceil(.5*n):e<=i.g.lg?Math.ceil(.75*n):n},l=function(t){var e={width:0,height:0};if(!t)return e;if(!t.dataset.imageDimensions)return e;var n=o(t.dataset.imageDimensions.split("x"),2),i=n[0],r=n[1];return i&&r?{width:+i,height:+r}:e},c=function(t){var e={x:.5,y:.5};if(!t)return e;if(!t.dataset.imageFocalPoint)return e;var n=o(t.dataset.imageFocalPoint.split(","),2),i=n[0],r=n[1];return i&&r?{x:+i,y:+r}:e}},160:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(0);var i=Array.prototype.slice,o=function(){var t=i.call(arguments);return function(){for(var e=i.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},r=[],a={executeCallbacks:function(){r.forEach((function(t){return t()}))},trigger:function(){this.executeCallbacks()},registerCallback:function(t){t&&r.push(t)},removeCallback:function(t){if(t){var e=r.indexOf(t);e>-1&&r.splice(e,1)}},on:function(t){this.registerCallback(t)},off:function(t){this.removeCallback(t)}};window.history&&window.history.pushState&&(history.change=a,history.pushState=o((function(){return history.change.trigger()}),history.pushState),history.replaceState=o((function(){return history.change.trigger()}),history.replaceState),window.addEventListener("popstate",(function(){history.change.trigger()})));var s=function(){return window.history&&window.history.pushState?history:null}},192:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(5);function o(){var t=window.matchMedia("(max-width: ".concat(i.g.md-1,"px)"));return t&&t.matches}},216:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));n(0);var i=n(2),o=n(36),r=n(39);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(a,t);var e,n,i,r=c(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),h(d(e=r.call(this,t)),"onPress",(function(t){t.stopPropagation(),"number"==typeof t.button&&0!==t.button||e.startSwipe(t,e.normalizeMouseEvent(t))})),h(d(e),"onMove",(function(t){var n=e.props,i=n.axis,o=n.minSwipeLength,r=n.preventScroll;if(r&&(t.preventDefault(),t.stopPropagation()),!t.targetTouches||t.targetTouches[0].identifier===e.state.touchIdentifier){var a=e.getSwipeDirection(e.normalizeMouseEvent(t));r&&("xy"===i?t.preventDefault():"x"===i?a.swipeLengthX>=o&&t.preventDefault():a.swipeLengthY>=o&&t.preventDefault()),e.isSwipeDirectionUnchanged(a)?e.updateSwipe(a,e.normalizeMouseEvent(t)):e.resetSwipe()}})),h(d(e),"onRelease",(function(){var t=e.getSwipeLength(e.state.pos),n=(new Date).getTime()-e.state.swipeStart.getTime();if(t>e.props.minSwipeLength&&n<=e.props.maxTimeThreshold){var i=(e.state.direction.y||"")+(e.state.direction.x||""),o="onSwipe".concat(i),r={type:"swipe".concat(i),timestampStart:e.state.swipeStart,timestampEnd:new Date,start:e.state.start,end:e.state.pos,direction:e.state.direction};e.props.onSwipe&&e.props.onSwipe(r),e.props[o]&&e.props[o](r)}e.endSwipe()})),h(d(e),"getSwipeLength",(function(t){return e.getSwipeLengthX(t)+e.getSwipeLengthY(t)})),h(d(e),"getSwipeLengthX",(function(t){return Math.abs(t.x-e.state.start.x)})),h(d(e),"getSwipeLengthY",(function(t){return Math.abs(t.y-e.state.start.y)})),h(d(e),"isSwipeDirectionUnchanged",(function(t){return!(e.state.direction.x&&e.state.direction.x!==t.x||e.state.direction.y&&e.state.direction.y!==t.y)})),h(d(e),"normalizeMouseEvent",(function(t){var e=Object(o.d)(t);return{x:e.clientX,y:e.clientY}}));var n=e.props.node;return e.state={touchIdentifier:null,direction:{x:null,y:null},pos:{x:null,y:null},start:{x:null,y:null},swipeStart:new Date},e.node=n,e.bindListeners(),e}return e=a,(n=[{key:"bindListeners",value:function(){this.node.addEventListener(o.a.press,this.onPress)}},{key:"unbindListeners",value:function(){this.node.removeEventListener(o.a.press,this.onPress)}},{key:"getSwipeDirection",value:function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.state.direction);return e.swipeLengthY=this.getSwipeLengthY(t),e.swipeLengthX=this.getSwipeLengthX(t),e.swipeLengthY>this.props.moveThreshold&&(e.y=t.y<this.state.start.y?"Up":"Down"),e.swipeLengthX>this.props.moveThreshold&&(e.x=t.x<this.state.start.x?"Left":"Right"),e}},{key:"startSwipe",value:function(t,e){var n=this;this.setState({touchIdentifier:t.targetTouches?t.targetTouches[0].identifier:null,direction:{x:null,y:null},start:e,pos:{x:null,y:null},swipeStart:new Date}),document.addEventListener(o.a.move,this.onMove),o.a.release.forEach((function(t){document.addEventListener(t,n.onRelease)}))}},{key:"endSwipe",value:function(){var t=this;document.removeEventListener(o.a.move,this.onMove),o.a.release.forEach((function(e){document.removeEventListener(e,t.onRelease)}))}},{key:"updateSwipe",value:function(t,e){this.setState({direction:t,pos:e})}},{key:"resetSwipe",value:function(){this.setState({touchIdentifier:null,direction:{x:null,y:null},pos:{x:null,y:null},start:{x:null,y:null},swipeStart:new Date})}},{key:"destroy",value:function(){this.unbindListeners(),this.endSwipe()}}])&&u(e.prototype,n),i&&u(e,i),a}(i.a);h(y,"defaultProps",{node:document.createElement("div"),axis:"xy",maxTimeThreshold:600,minSwipeLength:40,moveThreshold:100,preventScroll:!0,onSwipe:r.a,onSwipeLeft:r.a,onSwipeUpLeft:r.a,onSwipeUp:r.a,onSwipeUpRight:r.a,onSwipeRight:r.a,onSwipeDownRight:r.a,onSwipeDown:r.a,onSwipeDownLeft:r.a})},249:function(t,e,n){"use strict";n.d(e,"a",(function(){return U}));n(0);var i=n(11),o=n(2),r=n(37),a=n(136),s=n(192);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=v(t);if(e){var o=v(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(u,t);var e,n,i,o=f(u);function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),g(y(e=o.call(this,t)),"onResize",(function(){var t=e.ref.image;r.a.loadLazy(t,c({load:!0,forceImageUpdate:!0},e.props.imageLoadMode)),e.updateCaptionPosition()}));var n=e.props,i=n.node,s=n.regionSelector,l=n.imageSelector,p=n.imageWrapperSelector,d=n.videoWrapperSelector,f=n.captionSelector;return e.state={},e.node=i,e.ref={region:i.querySelector(s),image:i.querySelector(l),caption:i.querySelector(f)},e.isVideo=null!==e.ref.image.closest(d),e.ref.wrapper=p?e.ref.image.closest(p):e.ref.image.parentNode,e.slideUrl=e.node.dataset.slideUrl,e.slideId=e.node.dataset.itemId,e.state=c(c({isActive:!1,isVideo:!1},Object(a.c)(e.ref.image)),{},{focalPoint:Object(a.b)(e.ref.image)}),e.activeTimeout=null,e.transitionTimeout=null,e.ref.image.onload=function(){e.ref.wrapper.dataset.loaded=!0,e.updateCaptionPosition()},e}return e=u,(n=[{key:"updateCaptionPosition",value:function(){var t=this.ref.caption;t&&(Object(s.a)()?t.style.top=this.calculateMobileCaptionPosition():t.style.removeProperty("top"))}},{key:"calculateMobileCaptionPosition",value:function(){var t=this.ref,e=t.image,n=t.region.clientHeight,i=n/2+e.clientHeight/2,o=Math.round(i/n*100);return"".concat(o,"%")}},{key:"loadImage",value:function(){var t=this.ref.image;r.a.loadLazy(t,c({load:!0},this.props.imageLoadMode))}},{key:"add",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.props.switchDelay;if(this.loadImage(),this.node.dataset.active=!1,this.node.dataset.next=t,this.node.dataset.static=n,this.node.parentNode&&this.node.parentNode.appendChild(this.node),this.setState({isActive:!0,isVideo:this.isVideo}),this.updateCaptionPosition(),clearTimeout(this.activeTimeout),clearTimeout(this.transitionTimeout),n)return this.node.dataset.active=!0,void(this.node.dataset.in=!0);this.activeTimeout=setTimeout((function(){e.node.dataset.active=!0}),0),this.transitionTimeout=setTimeout((function(){e.node.dataset.in=!0}),i)}},{key:"remove",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.props.transitionDuration;if(this.node.dataset.next=!t,this.node.dataset.in=!1,this.node.dataset.static=n,clearTimeout(this.activeTimeout),clearTimeout(this.transitionTimeout),n)return this.setState({isActive:!1}),void(this.node.dataset.active=!1);this.transitionTimeout=setTimeout((function(){e.setState({isActive:!1}),e.node.dataset.active=!1}),n?0:i)}},{key:"destroy",value:function(){clearTimeout(this.activeTimeout),clearTimeout(this.transitionTimeout)}}])&&p(e.prototype,n),i&&p(e,i),u}(o.a);g(b,"defaultProps",{node:null,regionSelector:".gallery-slideshow-item-wrapper",imageSelector:"img",videoWrapperSelector:".sqs-video-wrapper",captionSelector:".gallery-caption-slideshow",isLightbox:!1,switchDelay:0,transitionDuration:500,imageLoadMode:{},isVideo:!1});var m=n(216),w=n(22),S=n(40),x=n(160),O=n(39),L=n(5);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=M(t);if(e){var o=M(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return I(this,n)}}function I(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?R(t):e}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(a,t);var e,n,o,r=T(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),C(R(e=r.call(this,t)),"onSwipe",(function(t){console.log(t)})),C(R(e),"getSlideIndexByUrlOrId",(function(t){return e.slides.findIndex((function(e){return e.slideId===t||e.slideUrl===t}))})),C(R(e),"getSlides",(function(t,e){var n=e.regionSelector,i=e.imageSelector,o=e.switchDelay,r=e.transitionDuration,a=e.imageLoadMode,s=e.isInstant,u=e.imageWrapperSelector;return t.map((function(t){return new b({node:t,regionSelector:n,imageSelector:i,switchDelay:o,transitionDuration:r,imageLoadMode:a,isInstant:s,imageWrapperSelector:u})}))})),C(R(e),"onDisableMove",(function(t){t.preventDefault()})),C(R(e),"onPreviousSlide",(function(t){e.setTargetSlide(e.state.index-1,!1,!1,e.state.isInstant),t&&t.preventDefault&&t.preventDefault()})),C(R(e),"onNextSlide",(function(t){e.setTargetSlide(e.state.index+1,!0,!1,e.state.isInstant),t&&t.preventDefault&&t.preventDefault()})),C(R(e),"onCloseLightbox",(function(t){e.closeLightbox()})),C(R(e),"keyCodeListener",(function(t){if(27===t.keyCode&&(e.closeLightbox(),t.stopPropagation()),39===t.keyCode){var n=e.state.index+1;e.setSlide(n,!1,e.state.isInstant)}if(37===t.keyCode){var i=e.state.index-1;e.setSlide(i,!1,e.state.isInstant)}})),C(R(e),"initAutoplay",(function(t){e.autoplayInterval=setInterval((function(){var t=e.state.index+1;e.setSlide(t,!1,e.state.isInstant)}),t)})),C(R(e),"onHistoryStateChange",(function(){var t=e.matchUrlToSlideIndex(),n=e.state.isLightboxOpen;-1===t&&n?e.closeLightbox({adjustHistory:!1}):t>-1&&!n&&e.openLightbox(t)})),C(R(e),"onResize",(function(){var t=R(e).sizedWrapper,n=e.state.aspectRatio;n&&(t.style.height="".concat(t.clientWidth*n,"px")),e.loadSlides()})),C(R(e),"loadSlides",(function(){var t=e.state,n=t.index,i=t.thumbnailsEnabled,o=t.controls;if(-1!==n){var r;if(i||"bullets"===o)r=e.slides.map((function(t,e){return e}));else{var a=e.slides.length;r=[n,(a+n-1)%a,(a+n+1)%a]}r.forEach((function(t){return e.slides[t].onResize()}))}}));var n=e.props,o=n.node,s=n.display,u=n.isHistoryEnabled,l=n.isLightbox,c=n.autoplayEnabled,p=n.slideDurationMs,d=n.slides,f=n.aspectRatio,h=n.isInstant,y=n.galleryHeight,v=n.galleryWidth,g=n.controls,w=n.thumbnailsEnabled,O=n.sizedWrapper,P=Object(i.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null);return e.node=o,e.display=s||o,e.sizedWrapper=O||e.display,e.history=Object(x.a)(),e.state={collectionFullUrl:P,isHistoryEnabled:P&&u&&e.history,aspectRatio:f,autoplayEnabled:c,slideDurationMs:p,galleryHeight:y,galleryWidth:v,isInstant:h,controls:g,thumbnailsEnabled:w,index:0,previous:-1,isLightboxOpen:!1},e.onResizeDebounce=Object(S.a)(e.onResize,L.e),e.slides=e.getSlides(d,e.props),e.lightbox=e.node.querySelector(".gallery-lightbox"),e.state.index=e.matchUrlToSlideIndex(),e.autoplayInterval=null,e.len=e.slides.length,e.len?(e.swipe=new m.a({axis:"xy",node:e.display,onSwipeRight:e.onPreviousSlide,onSwipeLeft:e.onNextSlide,onSwipeUp:l&&e.onCloseLightbox}),e.bindListeners(),e.checkLightboxReady(),e.state.autoplayEnabled&&e.initAutoplay(e.state.slideDurationMs),e):I(e)}return e=a,(n=[{key:"checkLightboxReady",value:function(){if(!this.props.isLightbox)return-1===this.state.index&&(this.state.index=0),void this.setTargetSlide(this.state.index);this.state.index>-1&&this.openLightbox(this.state.index)}},{key:"matchUrlToSlideIndex",value:function(){var t=this.state.collectionFullUrl;if(-1===!window.location.pathname.indexOf(t))return-1;var e=new URLSearchParams(window.location.search).get("itemId");return this.getSlideIndexByUrlOrId(e)}},{key:"bindListeners",value:function(){var t=this.props,e=t.isLightbox,n=t.buttonPrevious,i=t.buttonNext,o=t.buttonLightboxClose;n&&n.addEventListener("click",this.onPreviousSlide),i&&i.addEventListener("click",this.onNextSlide),e&&(this.lightbox.addEventListener("touchmove",this.onDisableMove),o&&o.addEventListener("click",this.onCloseLightbox),this.history&&this.history.change.on(this.onHistoryStateChange)),w.a.on(this.onResizeDebounce)}},{key:"unbindListeners",value:function(){var t=this.props,e=t.isLightbox,n=t.buttonPrevious,i=t.buttonNext;n&&n.removeEventListener("click",this.onPreviousSlide),i&&i.removeEventListener("click",this.onNextSlide),e&&this.lightbox.removeEventListener("touchmove",this.onDisableMove),e&&this.history&&this.history.change.off(this.onHistoryStateChange),w.a.off(this.onResizeDebounce)}},{key:"setSlide",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;t!==this.state.index&&this.setTargetSlide(t,t>this.state.index,e,n)}},{key:"setTargetSlide",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=(t%this.len+this.len)%this.len,r=this.slides[this.state.previous],a=this.slides[o];r&&r.remove(e,i),this.setState({index:o,previous:o}),a.add(e,i),a.state.isVideo&&this.lightbox?this.lightbox.classList.add("video-slide"):this.lightbox&&this.lightbox.classList.remove("video-slide"),this.setUrl(a.slideUrl),n||this.props.onSetSlide(o,e,i),this.onResizeDebounce()}},{key:"setUrl",value:function(t){var e=this.props.isLightbox,n=this.state.isHistoryEnabled;e&&n&&history.replaceState({},"","?itemId=".concat(encodeURIComponent(t)))}},{key:"openLightbox",value:function(t){if(!this.state.isLightboxOpen){var e=this.props.onLightboxOpen;this.setState({isLightboxOpen:!0}),this.lightbox.dataset.open=!0,document.addEventListener("keyup",this.keyCodeListener),e(),this.setTargetSlide(t,!0,!1,this.state.isInstant)}}},{key:"closeLightbox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.adjustHistory,n=void 0===e||e,i=this.props.onLightboxClose;this.setState({index:-1,isLightboxOpen:!1}),n&&history.back(),this.lightbox.dataset.open=!1,document.removeEventListener("keyup",this.keyCodeListener),i()}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.autoplayEnabled!==t.autoplayEnabled&&(!0===t.autoplayEnabled?this.initAutoplay(t.slideDurationMs):this.autoplayInterval&&clearInterval(this.autoplayInterval)),this.state.slideDurationMs!==t.slideDurationMs&&(clearInterval(this.autoplayInterval),this.initAutoplay(t.slideDurationMs)),this.setState(j({},t)),this.onResizeDebounce()}},{key:"destroy",value:function(){this.onResizeDebounce.cancel(),this.unbindListeners(),this.autoplayInterval&&clearInterval(this.autoplayInterval),this.slides.forEach((function(t){return t.destroy()})),this.swipe&&this.swipe.destroy(),this.slides=[],this.len=0}}])&&E(e.prototype,n),o&&E(e,o),a}(o.a);C(U,"defaultProps",{isLightbox:!1,node:document.createElement("div"),display:null,sizedWrapper:null,buttonNext:document.createElement("button"),buttonPrevious:document.createElement("button"),buttonLightboxClose:document.createElement("button"),aspectRatio:null,slides:[],isHistoryEnabled:!0,autoplayEnabled:!1,slideDurationMs:5e3,galleryHeight:75,galleryWidth:80,regionSelector:".gallery-slideshow-item-wrapper",imageSelector:"img",switchDelay:0,transitionDuration:1e3,isInstant:!1,onSetSlide:O.a,onLightboxOpen:O.a,onLightboxClose:O.a})}}]);